# ЁЯРМ Performance Troubleshooting Guide

## р╕Ыр╕▒р╕Нр╕лр╕▓р╕Чр╕╡р╣Ир╕Юр╕Ър╕Ър╣Ир╕нр╕в: р╣Ар╕зр╣Зр╕Ър╣Вр╕лр╕ер╕Фр╕Кр╣Йр╕▓

### 1. тЪая╕П Vercel Deployment р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й Rebuild

**р╕Ыр╕▒р╕Нр╕лр╕▓**: р╕лр╕ер╕▒р╕Зр╕Ир╕▓р╕Б push code р╣Гр╕лр╕бр╣Ир╣Др╕Ы GitHub, Vercel р╕нр╕▓р╕Ир╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й rebuild

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й**:
1. р╣Др╕Ыр╕Чр╕╡р╣И [Vercel Dashboard](https://vercel.com/dashboard)
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ deployment р╕ер╣Ир╕▓р╕кр╕╕р╕Фр╣Ар╕кр╕гр╣Зр╕Ир╣Бр╕ер╣Йр╕зр╕лр╕гр╕╖р╕нр╕вр╕▒р╕З
3. р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Др╕бр╣Ир╣Др╕Фр╣Й rebuild тЖТ р╕Бр╕Ф "Redeploy" р╕лр╕гр╕╖р╕нр╕гр╕нр╣Гр╕лр╣Й auto-deploy р╣Ар╕кр╕гр╣Зр╕И
4. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Гр╕Кр╣Й commit р╕ер╣Ир╕▓р╕кр╕╕р╕Фр╕лр╕гр╕╖р╕нр╣Др╕бр╣И

**р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ**:
- р╕Фр╕╣р╕Чр╕╡р╣И Vercel Dashboard тЖТ Deployments
- р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ commit hash р╕зр╣Ир╕▓р╕Хр╕гр╕Зр╕Бр╕▒р╕Ъ GitHub р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

---

### 2. ЁЯЦ╝я╕П Background Image р╕вр╕▒р╕Зр╣Гр╕лр╕Нр╣Ир╣Ар╕Бр╕┤р╕Щр╣Др╕Ы

**р╕Ыр╕▒р╕Нр╕лр╕▓**: `BG.webp` р╕нр╕▓р╕Ир╕вр╕▒р╕Зр╣Гр╕лр╕Нр╣Ир╣Ар╕Бр╕┤р╕Щ 100 KB

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й**:
```bash
# р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣М
ls -lh public/images/BG.webp

# р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в: < 100 KB
```

**р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Гр╕лр╕Нр╣И**:
1. р╣Гр╕Кр╣Й [Squoosh](https://squoosh.app/) р╕нр╕╡р╕Бр╕Др╕гр╕▒р╣Йр╕З
2. р╕ер╕Ф quality р╕ер╕Зр╣Ар╕лр╕ер╕╖р╕н 60-70
3. р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й CSS gradient р╣Бр╕Чр╕Щ background image

---

### 3. ЁЯУж Image Optimization р╕Цр╕╣р╕Бр╕Ыр╕┤р╕Ф

**р╕Ыр╕▒р╕Нр╕лр╕▓**: `next.config.js` р╕бр╕╡ `unoptimized: true`

**р╕кр╕Цр╕▓р╕Щр╕░р╕Ыр╕▒р╕Ир╕Ир╕╕р╕Ър╕▒р╕Щ**: р╕Цр╕╣р╕Бр╕Ыр╕┤р╕Фр╣Ар╕Юр╕гр╕▓р╕░ Vercel р╕бр╕╡р╕Ыр╕▒р╕Нр╕лр╕▓ authentication

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й** (р╕Цр╣Йр╕▓р╕Хр╣Йр╕нр╕Зр╕Бр╕▓р╕гр╣Ар╕Ыр╕┤р╕Ф):
1. р╕ер╕Ъ `unoptimized: true` р╕нр╕нр╕Б
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ Vercel р╕гр╕нр╕Зр╕гр╕▒р╕Ъ Image Optimization API р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
3. р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й CDN р╕нр╕╖р╣Ир╕Щ (Cloudinary, Imgix)

**р╕лр╕бр╕▓р╕вр╣Ар╕лр╕Хр╕╕**: р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╣Гр╕Кр╣Й WebP format р╣Бр╕ер╣Йр╕з р╕Лр╕╢р╣Ир╕Зр╕Кр╣Ир╕зр╕вр╣Др╕Фр╣Йр╕бр╕▓р╕Бр╕нр╕вр╕╣р╣Ир╣Бр╕ер╣Йр╕з

---

### 4. ЁЯФд Font Loading р╕Кр╣Йр╕▓

**р╕Ыр╕▒р╕Нр╕лр╕▓**: Noto Sans Lao font р╕нр╕▓р╕Ир╣Вр╕лр╕ер╕Фр╕Кр╣Йр╕▓

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й** (р╕Чр╕│р╣Бр╕ер╣Йр╕з):
- тЬЕ р╣Гр╕Кр╣Й `display: 'swap'` - р╣Бр╕кр╕Фр╕З fallback font р╕Бр╣Ир╕нр╕Щ
- тЬЕ р╣Гр╕Кр╣Й `adjustFontFallback: true` - font fallback р╕Фр╕╡р╕Вр╕╢р╣Йр╕Щ
- тЬЕ р╣Гр╕Кр╣Й `preload: true` - preload font

**р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╕Кр╣Йр╕▓**:
1. р╕ер╕Ф font weights (р╕Хр╕нр╕Щр╕Щр╕╡р╣Йр╣Гр╕Кр╣Й 400, 600 р╣Бр╕ер╣Йр╕з)
2. р╕лр╕гр╕╖р╕нр╣Гр╕Кр╣Й system fonts р╣Бр╕Чр╕Щ:
   ```tsx
   fontFamily: {
     sans: ['system-ui', 'arial', 'sans-serif'],
   }
   ```

---

### 5. ЁЯЪА Vercel Cold Start

**р╕Ыр╕▒р╕Нр╕лр╕▓**: Vercel serverless functions р╕нр╕▓р╕Ир╕бр╕╡ cold start

**р╕зр╕┤р╕Шр╕╡р╣Бр╕Бр╣Й**:
1. р╣Гр╕Кр╣Й Static Generation (`force-static`) - тЬЕ р╕Чр╕│р╣Бр╕ер╣Йр╕з
2. р╣Гр╕Кр╣Й ISR (Incremental Static Regeneration) - тЬЕ р╕бр╕╡ `revalidate: 3600`
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓ page р╣Ар╕Ыр╣Зр╕Щ static р╕лр╕гр╕╖р╕нр╣Др╕бр╣И:
   ```bash
   npm run build
   # р╕Фр╕╣р╕зр╣Ир╕▓ page р╣Ар╕Ыр╣Зр╕Щ static р╕лр╕гр╕╖р╕н dynamic
   ```

---

### 6. ЁЯУК р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Performance

**р╕зр╕┤р╕Шр╕╡р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ**:

1. **Chrome DevTools**:
   - р╣Ар╕Ыр╕┤р╕Ф DevTools (F12)
   - р╣Др╕Ыр╕Чр╕╡р╣И Network tab
   - Reload р╕лр╕Щр╣Йр╕▓ (Ctrl+R)
   - р╕Фр╕╣:
     - р╕Ир╕│р╕Щр╕зр╕Щ requests
     - р╕Вр╕Щр╕▓р╕Фр╣Др╕Яр╕ер╣Мр╕гр╕зр╕б
     - р╣Ар╕зр╕ер╕▓р╣Вр╕лр╕ер╕Ф

2. **Lighthouse**:
   - р╣Ар╕Ыр╕┤р╕Ф DevTools тЖТ Lighthouse tab
   - Run analysis
   - р╕Фр╕╣ Performance score

3. **WebPageTest**:
   - р╣Др╕Ыр╕Чр╕╡р╣И https://www.webpagetest.org/
   - р╣Гр╕кр╣И URL: https://education-gray-iota.vercel.app/
   - р╕Фр╕╣р╕гр╕▓р╕вр╕ер╕░р╣Ар╕нр╕╡р╕вр╕Фр╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Ф

---

### 7. тЬЕ Checklist р╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕В

- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Vercel deployment р╕зр╣Ир╕▓ rebuild р╣Бр╕ер╣Йр╕з
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕Вр╕Щр╕▓р╕Ф `BG.webp` (< 100 KB)
- [ ] р╣Бр╕Ыр╕ер╕З `chatbot.png` тЖТ `chatbot.webp`
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network tab р╕зр╣Ир╕▓р╕бр╕╡р╣Др╕Яр╕ер╣Мр╣Др╕лр╕Щр╣Вр╕лр╕ер╕Фр╕Кр╣Йр╕▓
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Lighthouse score
- [ ] р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ър╕зр╣Ир╕▓р╣Гр╕Кр╣Й static generation р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

---

### 8. ЁЯОп Performance Targets

**р╣Ар╕Ыр╣Йр╕▓р╕лр╕бр╕▓р╕в**:
- DOMContentLoaded: < 500 ms тЬЕ (341 ms)
- Load: < 1 s тЬЕ (960 ms)
- First Contentful Paint: < 1.8 s
- Largest Contentful Paint: < 2.5 s
- Total Page Size: < 2 MB
- Number of Requests: < 30

---

### 9. ЁЯФН Debugging Tips

**р╕Цр╣Йр╕▓р╣Ар╕зр╣Зр╕Ър╕вр╕▒р╕Зр╣Вр╕лр╕ер╕Фр╕Кр╣Йр╕▓**:

1. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network tab**:
   - р╕Фр╕╣р╣Др╕Яр╕ер╣Мр╣Др╕лр╕Щр╣Вр╕лр╕ер╕Фр╕Кр╣Йр╕▓р╕Чр╕╡р╣Ир╕кр╕╕р╕Ф
   - р╕Фр╕╣р╕зр╣Ир╕▓р╣Др╕Яр╕ер╣Мр╣Др╕лр╕Щ block р╕Бр╕▓р╕гр╣Вр╕лр╕ер╕Ф

2. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Console**:
   - р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ error р╕лр╕гр╕╖р╕нр╣Др╕бр╣И
   - р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ warning р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

3. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Performance tab**:
   - р╕Фр╕╣р╕зр╣Ир╕▓ JavaScript р╕Чр╕│р╕Зр╕▓р╕Щр╕Щр╕▓р╕Щр╣Бр╕Др╣Ир╣Др╕лр╕Щ
   - р╕Фр╕╣р╕зр╣Ир╕▓ render р╣Гр╕Кр╣Йр╣Ар╕зр╕ер╕▓р╕Щр╕▓р╕Щр╣Бр╕Др╣Ир╣Др╕лр╕Щ

4. **р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Vercel Logs**:
   - р╣Др╕Ыр╕Чр╕╡р╣И Vercel Dashboard тЖТ Logs
   - р╕Фр╕╣р╕зр╣Ир╕▓р╕бр╕╡ error р╕лр╕гр╕╖р╕нр╣Др╕бр╣И

---

### 10. ЁЯУЭ р╕кр╕гр╕╕р╕Ыр╕Бр╕▓р╕гр╣Бр╕Бр╣Йр╣Др╕Вр╕Чр╕╡р╣Ир╕Чр╕│р╣Бр╕ер╣Йр╕з

тЬЕ р╣Бр╕Ыр╕ер╕Зр╕гр╕╣р╕Ыр╕ар╕▓р╕Юр╣Ар╕Ыр╣Зр╕Щ WebP (70-80% size reduction)
тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б lazy loading р╕кр╕│р╕лр╕гр╕▒р╕Ър╕гр╕╣р╕Ыр╕ар╕▓р╕Ю
тЬЕ р╣Ар╕Ыр╕ер╕╡р╣Ир╕вр╕Щ background image р╣Ар╕Ыр╣Зр╕Щ Next.js Image
тЬЕ р╕ер╕Фр╕Ир╕│р╕Щр╕зр╕Щ SVG icons
тЬЕ р╕Ыр╕гр╕▒р╕Ъ font loading
тЬЕ р╣Гр╕Кр╣Й static generation
тЬЕ р╣Ар╕Юр╕┤р╣Ир╕б metadata

---

## ЁЯЖШ р╕Цр╣Йр╕▓р╕вр╕▒р╕Зр╣Бр╕Бр╣Йр╣Др╕бр╣Ир╣Др╕Фр╣Й

1. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Vercel deployment logs
2. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Network tab р╣Гр╕Щ DevTools
3. р╕Хр╕гр╕зр╕Ир╕кр╕нр╕Ъ Lighthouse report
4. р╕Хр╕┤р╕Фр╕Хр╣Ир╕н Vercel support

